[env]
PYO3_USE_ABI3_FORWARD_COMPATIBILITY = "1"

# FerrumPy Linker Configuration
# Use lld for faster build times

# macOS (Apple Silicon)
[target.aarch64-apple-darwin]
rustflags = ["-C", "link-arg=-undefined", "-C", "link-arg=dynamic_lookup"]

# macOS (Intel) - uncomment if needed
# [target.x86_64-apple-darwin]
# rustflags = ["-C", "link-arg=-fuse-ld=/usr/local/bin/ld64.lld"]

# Linux (x86_64)
[target.x86_64-unknown-linux-gnu]
rustflags = ["-C", "link-arg=-fuse-ld=lld"]

# Linux (aarch64)
[target.aarch64-unknown-linux-gnu]
rustflags = ["-C", "link-arg=-fuse-ld=lld"]
